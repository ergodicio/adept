# CR: Same comment, let's rename it to tpd-dynamic-ssd-speckle.yaml
density:
  basis: linear
  gradient scale length: 200um
  max: 0.28
  min: 0.18
  noise:
    max: 1.0e-09
    min: 1.0e-10
    type: uniform
drivers:
  E0:
    delta_omega_max: 0.015
    envelope:
      tc: 200.25ps
      tr: 0.1ps
      tw: 400ps
      xc: 50um
      xr: 0.2um
      xw: 1000um
      yc: 50um
      yr: 0.2um
      yw: 1000um
    num_colors: 1
    shape: uniform
    params:
      amplitudes:
        init: random
        learned: true
        activation: log
      phases:
        init: random
        learned: true
        seed: 42
    # CR: Remove comment, we can see that.
    # LASY SpeckleProfile configuration with FM SSD (time-varying)
    speckle:
      enabled: true
      # CR: Change the name of the config keys to `focal_length_m`, or better yet, make it take a string with units like the other things, and parse and convert it to meters.
      focal_length: 3.5  # meters
      beam_aperture: [0.35, 0.35]  # [x, y] in meters
      n_beamlets: [24, 32]
      smoothing_type: FM SSD
      seed: 42
      # SSD-specific parameters
      relative_laser_bandwidth: 0.005
      ssd_phase_modulation_amplitude: [4.1, 4.1]  # [x, y]
      ssd_number_color_cycles: [1.4, 1.0]  # [x, y]
      ssd_transverse_bandwidth_distribution: [1.0, 1.0]  # [x, y]

grid:
  boundary_abs_coeff: 1.0e4
  boundary_width: 1.5um
  low_pass_filter: 0.4
  dt: 5fs
  dx: 66.3nm
  tmax: 5ps
  tmin: 0.0ns
  ymax: 6um
  ymin: -6um
mlflow:
  experiment: tpd
  # CR: don't forget to change mlflow run names to match file names.
  run: tpd-lasy-speckle-ssd
save:
  fields:
    t:
      dt: 0.2ps
      tmax: 5ps
      tmin: 0ps
    x:
      dx: 80nm
    y:
      dy: 80nm
solver: envelope-2d
terms:
  epw:
    boundary:
      x: absorbing
      y: periodic
    damping:
      collisions: 1.0
      landau: true
    density_gradient: true
    linear: true
    source:
      noise: true
      tpd: true
      srs: false
  zero_mask: true

units:
  atomic number: 40
  envelope density: 0.25
  ionization state: 6
  laser intensity: 3.5e+14W/cm^2
  laser_wavelength: 351nm
  reference electron temperature: 2000.0eV
  reference ion temperature: 1000eV
